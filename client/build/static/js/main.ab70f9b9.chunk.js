(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),c=a.n(s),l=(a(69),a(70),a(3)),o=a(4),i=a(7),u=a(5),m=a(6),h=a(21),p=(a(71),a(72),a(11)),d=a(117),f=a(9),b=a.n(f),E=function(e,t){return b.a.post("/api/auth/login",{username:e,password:t}).then(function(e){return e.data})},g=function(e,t){return b.a.post("/api/auth/signup",{username:e,password:t}).then(function(e){return e.data})},v=function(e){b.a.post("/api/auth/logout").then(function(e){return e.data}).then(function(){e.setUser(null)})},y=function(e){return r.a.createElement(d.a,{className:"navbar navbar-expand-md navbar-dark bg-primary mb-4 justify-content-space-between"},r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMain"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarMain"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/",className:"nav-link"})))),r.a.createElement("div",{className:""},r.a.createElement(d.a.Brand,{to:"/"}),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Brand,null,r.a.createElement(p.b,{className:"text-white",to:"/users/".concat(e.user._id)},e.user.username),r.a.createElement(p.b,{className:"text-white",onClick:function(){return v(e)},to:"/"}," ","Logout"," "),r.a.createElement(p.b,{className:"text-white",to:"/"},"Home"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Brand,null,r.a.createElement(p.b,{className:"text-white",to:"/signup"},"Signup"))," ",r.a.createElement(d.a.Brand,null,r.a.createElement(p.b,{className:"text-white",to:"/login"},"Login"))))))},k=a(62),C=function(e){var t=e.component,a=e.user,n=e.path,s=e.redirectPath,c=void 0===s?"/":s,l=Object(k.a)(e,["component","user","path","redirectPath"]);return r.a.createElement(h.b,{path:n,render:function(e){return a?r.a.createElement(t,Object.assign({},e,l,{user:a})):r.a.createElement(h.a,{to:c})}})},N=a(14),O=a(116),j=a(118),w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",githubLink:"",profileImg:"",role:"student",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),g(n,r).then(function(e){a.props.setUser(e),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(O.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(O.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"githubLink"},"githubLink:"),r.a.createElement(O.a.Control,{type:"password",name:"githubLink",id:"githubLink",value:this.state.githubLink,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"profileImg"},"Profile Image:"),r.a.createElement(O.a.Control,{type:"text",name:"profileImg",id:"profileImg",value:this.state.profileImg,onChange:this.handleChange})),this.state.error&&r.a.createElement(j.a,{variant:"warning"},this.state.error),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn mt-4 btn-primary btn-block",onClick:this.onSubmit}))}}]),t}(n.Component),S=a(115),x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(N.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),E(n,r).then(function(e){a.props.setUser(e),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(O.a,{onSubmit:this.handleSubmit},r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(O.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(O.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(j.a,{variant:"warning"},this.state.error),r.a.createElement(S.a,{type:"submit",className:"btn mt-4 btn-primary btn-block"},"Login"))}}]),t}(n.Component),U=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),_=a(28),D=function(){return b.a.get("/api/coursework/lessons").then(function(e){return e.data})},L=function(e){return b.a.get("/api/coursework/days/".concat(e)).then(function(e){return e.data})},I=function(){return b.a.get("/api/coursework/weeks").then(function(e){return e.data})};var T=function(e){return!0!==e.open?r.a.createElement("div",null):r.a.createElement("div",null,e.children)},A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleModule=function(e){var t=Object(_.a)(a.state.open);t[e]=!t[e],a.setState({open:t})},a.state={modules:[],open:[!1,!1,!1]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/coursework/modules").then(function(e){return e.data}).then(function(t){var a=t.sort(function(e,t){return e.number-t.number});e.setState({modules:a})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.state.modules.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("div",null,r.a.createElement("h2",{className:"bg-primary text-center dashboard text-light",onClick:function(){return e.toggleModule(a)}},t.name)),r.a.createElement(T,{open:e.state.open[a]},console.log(t.description),r.a.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:t.description}})))})))}}]),t}(n.Component),F=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={board:null},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/coursework/").then(function(e){return e.data}).then(function(t){return e.setState({board:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.state.board&&this.state.board.name.toUpperCase();return r.a.createElement("div",null,e&&r.a.createElement("h2",null,e),r.a.createElement(A,null),r.a.createElement("h1",null,r.a.createElement(p.b,{to:"/dashboard"},"Dashboard")))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={days:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.num||null;t?function(e){return b.a.get("/api/coursework/weeks/".concat(e)).then(function(e){return e.data})}(t).then(function(t){var a=t.sort(function(e,t){return e.day-t.day});e.setState({days:a})}).catch(function(e){console.log("error getting days in week. ",e)}):b.a.get("/api/coursework/days").then(function(e){return e.data}).then(function(t){e.setState({days:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.state.days.map(function(e,t){return r.a.createElement("div",{key:t,className:"list-item"},r.a.createElement(p.b,{to:"/days/".concat(e.id)},e.name))})))}}]),t}(n.Component),M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={weeks:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;I().then(function(t){e.setState({weeks:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.state.weeks.map(function(e,t){return r.a.createElement("div",{key:t,className:"list-item"},r.a.createElement(p.b,{to:"/weeks/".concat(t+1)},"Week ",t+1))})))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleWeek=function(e){var t=Object(_.a)(a.state.open);t[e]=!t[e],a.setState({open:t})},a.openWeek=function(e,t){var n=[];n[e]=!0,a.setState({open:n,selectedDay:t})},a.state={open:[],selectedDay:null},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.selectedWeek===e.selectedWeek&&this.props.selectedDay===e.selectedDay||(console.log("in the coursetree update",this.props),this.openWeek(this.props.selectedWeek,this.props.selectedDay))}},{key:"render",value:function(){var e=this;return r.a.createElement("aside",{className:"menu"},r.a.createElement("p",{className:"menu-label"},"Course Calendar"),r.a.createElement("ul",{className:"menu-list"},this.props.weeks.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement("a",{onClick:function(){return e.toggleWeek(a)}},"Week ",a+1),r.a.createElement(T,{open:e.state.open[a]},r.a.createElement("ul",{style:{fontSize:"0.9em"}},t.map(function(t){return r.a.createElement("li",{key:t.id,className:"vertical-align-center"},r.a.createElement(p.b,{to:{pathname:"/days/".concat(t.id),state:{day:t}},className:e.state.selectedDay===t.id?"is-active":""},t.day?"Day ".concat(t.day):t.name,r.a.createElement("br",null),console.log(e.props.user,e.props.user.completedItems),t.cards.map(function(t,a){return!t.tags.map(function(e){return e.name}).includes("Events")&&!t.tags.map(function(e){return e.name}).includes("Additional info")&&r.a.createElement("span",{className:"small",key:a,style:{backgroundColor:e.props.user.completedItems&&e.props.user.completedItems.includes(t.id)?"navy":"white",color:e.props.user.completedItems&&e.props.user.completedItems.includes(t.id)?"navy":"white"}},"--")})))}))))})),r.a.createElement("p",{className:"menu-label"},"Classmates"),r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",null,this.props.user&&r.a.createElement(p.b,{to:"/users/".concat(this.props.user._id)},"My profile"))),r.a.createElement("p",{className:"menu-label"},"Course Info"),r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",null,r.a.createElement(p.b,{to:"/modules"},"Modules"))),r.a.createElement("p",{className:"menu-label"},"Resources"),r.a.createElement("ul",{className:"menu-list"},r.a.createElement("li",null)))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={completed:a.props.user.completedItems.includes(a.props.id)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleCompletion",value:function(e,t){var a=this;(function(e,t,a){return b.a.post("/api/users/lessons/".concat(e,"/").concat(t),{completionStatus:a}).then(function(e){return console.log(e),e.data})})(e,this.props.user._id,t).then(function(e){a.props.setUser(e),a.setState({completed:t}),a.props.reloadCourseTree(a.props.idList)})}},{key:"render",value:function(){var e=this;return r.a.createElement(O.a,null,!this.props.tags.map(function(e){return e.name}).includes("Events")&&!this.props.tags.map(function(e){return e.name}).includes("Additional info")&&r.a.createElement(O.a.Group,{controlId:"statusCheckbox"},r.a.createElement(O.a.Check,{className:"check",type:"checkbox",label:"",checked:this.state.completed,onChange:function(){return e.handleCompletion(e.props.id,!e.state.completed)}})))}}]),t}(n.Component),W=a(35),z=a.n(W),G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showComment:!0,className:"fas fa-sort-up"},a.onShowClick=function(e){var t=a.state.showComment?"fas fa-sort-down":"fas fa-sort-up";a.setState({showComment:!a.state.showComment,className:t})},a.onClickDelete=function(){a.props.deleteClickHandler()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.showComment;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(p.b,{to:"/"},r.a.createElement("h3",null,this.props.data.user&&this.props.data.user.username," ")),e&&r.a.createElement("img",{src:this.props.data.user&&this.props.data.user.profileImg||"https://scontent-vie1-1.xx.fbcdn.net/v/t1.0-9/16196015_10154888128487744_6901111466535510271_n.png?_nc_cat=103&_nc_oc=AQkzn0OPjcr3XQY7UkMt85y2o6HubSMaDYiYQSA_2xvqTwZeUzV7kCvKb0apdC5SmPE&_nc_ht=scontent-vie1-1.xx&oh=16ae35aaabc5b997ec4d338b775d98f7&oe=5DE21BE9",height:"100px",alt:"Users profile img"})),r.a.createElement("td",{colSpan:"2"},r.a.createElement("div",null,r.a.createElement("i",{onClick:this.onShowClick,className:this.state.className,style:{cursor:"pointer"}}),e&&"TA"===this.props.user.role&&r.a.createElement("i",{className:"fas fa-times",style:{cursor:"pointer",float:"right",color:"red"},onClick:this.onClickDelete})),e&&r.a.createElement("p",null,r.a.createElement(z.a,null,this.props.data.content))))}}]),t}(n.Component),R=a(20),Y=a.n(R),Q=a(26),K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comment:""},a.onChangeHandler=function(e){a.setState({comment:e.target.value})},a.onKeyComment=function(){var e=Object(Q.a)(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"Enter"===t.key&&a.props.postCommentHandler(a.state.comment);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,this.props.user&&r.a.createElement("h3",null,this.props.user.username),this.props.user&&r.a.createElement("img",{src:this.props.user.profileImg||"https://scontent-vie1-1.xx.fbcdn.net/v/t1.0-9/16196015_10154888128487744_6901111466535510271_n.png?_nc_cat=103&_nc_oc=AQkzn0OPjcr3XQY7UkMt85y2o6HubSMaDYiYQSA_2xvqTwZeUzV7kCvKb0apdC5SmPE&_nc_ht=scontent-vie1-1.xx&oh=16ae35aaabc5b997ec4d338b775d98f7&oe=5DE21BE9",height:"100px",alt:"Users profile img"})),r.a.createElement("td",{colSpan:"2"},r.a.createElement("br",null),r.a.createElement("textarea",{id:"story",name:"story",rows:"5",cols:"33",value:this.state.comment,onKeyDown:this.onKeyComment,onChange:this.onChangeHandler})))}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comments:[],commentForm:!1,commentButton:"New",classButton:"fas fa-plus"},a.getComments=function(){b.a.get("/api/comments/".concat(a.props.match.params.id)).then(function(e){e.data&&a.setState({comments:e.data})}).catch(function(e){console.log(e)})},a.onShowComments=function(e){var t=a.state.commentForm?"New":"Hide",n=a.state.commentForm?"fas fa-plus":"fas fa-minus";a.setState({commentForm:!a.state.commentForm,commentButton:t,classButton:n})},a.deleteComment=function(e){b.a.delete("/api/comments/".concat(e)).then(function(e){a.getComments()})},a.postComment=function(e){b.a.post("/api/comments/",{content:e,user:a.props.user._id,list:a.props.match.params.id}).then(function(e){a.getComments(),a.onShowComments()})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getComments()}},{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&this.getComments()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",null,r.a.createElement("i",{className:"fas fa-users"}),"Comments:",r.a.createElement("button",{onClick:this.onShowComments,className:"btn btn-success",style:{float:"right"}},r.a.createElement("i",{className:this.state.classButton}),this.state.commentButton))),r.a.createElement("div",{className:"col-md-6"}),r.a.createElement("table",{className:"table table-stripped"},r.a.createElement("thead",{className:"thear-inverse"}),r.a.createElement("tbody",null,this.state.comments.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement(G,{deleteClickHandler:e.deleteComment.bind(e,t._id),data:t,user:e.props.user}))}),this.state.commentForm&&r.a.createElement("tr",null,r.a.createElement(K,{postCommentHandler:this.postComment,user:this.props.user,id:"comment-form"}))))))}}]),t}(n.Component),V=a(27),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={disabled:!1},a.onDoubleClickHandler=function(e){!a.props.data||"TA"!==a.props.user.role&&"teacher"!==a.props.user.role&&a.props.user._id!==a.props.data.user||a.setState({disabled:!a.state.disabled}),a.state.disabled||a.props.postNoteHandler(e.target.innerHTML,a.props.data._id)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data?r.a.createElement(z.a,null,this.props.data.content):"";return r.a.createElement("div",null,r.a.createElement("label",null,this.props.label),("TA"===this.props.user.role||"userNote"===this.props.name)&&r.a.createElement("i",{onClick:this.onDoubleClickHandler,className:"fas fa-pencil-alt",style:{float:"right"}}),r.a.createElement("br",null),r.a.createElement("div",{className:"card mb-1",name:this.props.name,contentEditable:this.state.disabled,onChange:function(t){return e.props.onChangeHandler(t)},onDoubleClick:this.onDoubleClickHandler,suppressContentEditableWarning:!0,style:{width:"100%",height:"10vh"}},t))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={userNote:null,listNote:null},a.getNotes=function(){b.a.get("/api/notes/prot/".concat(a.props.match.params.id)).then(function(e){a.setState({listNote:e.data})}),b.a.get("/api/notes/".concat(a.props.match.params.id)).then(function(e){a.setState({userNote:e.data})})},a.updateNote=function(e,t){b.a.put("/api/notes",{content:e,id:t}).then(function(e){a.getNotes()})},a.onChangeHandler=function(e){var t=Object.assign(Object(V.a)({},a.state[e.target.name],{content:e.target.value}));a.setState(Object(N.a)({},e.target.name,t))},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getNotes()}},{key:"componentDidUpdate",value:function(e){e.location.pathname!==this.props.location.pathname&&this.getNotes()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{name:"userNote",onChangeHandler:this.onChangeHandler,user:this.props.user,label:"Your Notes",data:this.state.userNote,postNoteHandler:this.updateNote}),r.a.createElement(X,{name:"listNote",onChangeHandler:this.onChangeHandler,user:this.props.user,label:"Lists Notes",data:this.state.listNote,postNoteHandler:this.updateNote}))}}]),t}(n.Component),J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={day:{cards:[]}},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;L(t).then(function(a){e.setState({day:a}),e.props.reloadCourseTree(t)}).catch(function(e){console.log(e)})}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.match.params.id!==e.match.params.id){var a=this.props.match.params.id;L(a).then(function(e){console.log("Here in an update! these are the day's lessons from DB: ",e),t.setState({day:e}),t.props.reloadCourseTree(a)}).catch(function(e){console.log(e)})}}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,this.state.day.name),r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.state.day.cards&&this.state.day.cards.length>0&&this.state.day.cards.map(function(t){return r.a.createElement("div",{key:t.id,className:"list-item"},r.a.createElement("div",{className:"title-status"},r.a.createElement("a",{href:t.attachments[0]},t.name),r.a.createElement(P,Object.assign({},t,e.props,{reloadCourseTree:e.props.reloadCourseTree,user:e.props.user,setUser:e.props.setUser}))),t.desc&&r.a.createElement("div",{className:"lesson-description",dangerouslySetInnerHTML:{__html:t.desc}}),r.a.createElement("div",{className:"tags-special"},t.tags.map(function(e,t){return r.a.createElement("span",{key:t,style:{backgroundColor:"".concat(e.color)}},e.name)}),t.tech.map(function(e,t){return r.a.createElement("span",{key:t,className:"technology"},e)})))})),r.a.createElement(Z,this.props),r.a.createElement(q,this.props)))}}]),t}(n.Component),$=a(63),ee=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleChange=function(t){var a=t.target.name,n=t.target.value;"checkbox"===t.target.type&&(n=t.target.checked),e.setState(Object(N.a)({},a,n),function(){return e.props.searchAndFilter(e.state)})},e.filterByTagsSelect=function(t){var a=t||[];e.setState({selectedTags:a.map(function(e){return e.value})},function(){return e.props.searchAndFilter(e.state)})},e.state={searchStr:"",tags:[],incompleteOnly:!1,selectedTags:[]},e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/coursework/tags").then(function(e){return e.data}).then(function(t){e.setState({tags:t})})}},{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(O.a.Group,{controlId:"search"},r.a.createElement(O.a.Control,{type:"text",name:"searchStr",value:this.state.searchStr,onChange:this.handleChange,placeholder:"Search by Lesson Name"})),r.a.createElement(O.a.Group,null,this.state.tags.length>0&&r.a.createElement($.a,{isMulti:!0,name:"tags",placeholder:"Filter by tags",options:this.state.tags.map(function(e){return{label:e.name,value:e.name}}),onChange:this.filterByTagsSelect})),r.a.createElement(O.a.Group,null,r.a.createElement(O.a.Check,{type:"checkbox",name:"incompleteOnly",checked:this.state.incompleteOnly,onChange:this.handleChange,label:"Incomplete items only"})),r.a.createElement("hr",null))}}]),t}(r.a.Component),te=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).goToDay=function(e){a.props.reloadCourseTree(e),a.props.closeSearch()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Search Results"),r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.props.results&&this.props.results.map(function(t){return r.a.createElement("div",{key:t.id,className:"list-item"},r.a.createElement("div",{className:"title-status"},r.a.createElement("a",{href:t.attachments[0]},t.name),r.a.createElement("div",{className:"right-float"},r.a.createElement(p.b,{to:"/days/".concat(t.idList),onClick:function(){return e.goToDay(t.idList)}},r.a.createElement("img",{src:"./enter.png",alt:"Go to day",width:"15px"})),r.a.createElement("a",{onClick:function(){return e.props.reloadCourseTree(t.idList)}},r.a.createElement("img",{src:"./hide-sidebar.svg",alt:"View in course tree",width:"15px"})),r.a.createElement(P,Object.assign({},t,e.props,{reloadCourseTree:e.props.reloadCourseTree,user:e.props.user,setUser:e.props.setUser})))),r.a.createElement(T,{open:-1!==t.name.indexOf("KATA")},t.desc&&r.a.createElement("div",{className:"lesson-description",dangerouslySetInnerHTML:{__html:t.desc.split(/\n|\s/).map(function(e){return function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}(e)?"<a href=".concat(e,">Link</a>"):e}).join(" ")}})),r.a.createElement("div",{className:"tags-special"},t.tags.map(function(e,t){return r.a.createElement("span",{key:t,style:{backgroundColor:"".concat(e.color)}},e.name)}),t.tech.map(function(e,t){return r.a.createElement("span",{key:t,className:"technology"},e)})))}))))}}]),t}(n.Component),ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",githubLink:"",profileImg:"",role:"student",submitUser:!0,error:""},a.onChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(Q.a)(Y.a.mark(function e(t){return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/auth/signup",Object(V.a)({},a.state)).then(function(e){}).catch(function(e){return a.setState({error:e.message})});case 2:a.setState({error:"User added"}),a.props.history.push("/users/");case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(p.b,{to:"/",className:"btn btn-link"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"}),"Back to Users"))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Add User"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"firstName"},"Username:"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",minLength:"2",required:!0,onChange:this.onChange,value:this.state.firstName}))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",required:!0,onChange:this.onChange,value:this.state.lastName}))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"githubLink"},"Github:"),r.a.createElement("input",{type:"text",className:"form-control",name:"githubLink",onChange:this.onChange,value:this.state.githubLink}))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"profileImg"},"Profile Image:"),r.a.createElement("input",{type:"text",className:"form-control",name:"profileImg",onChange:this.onChange,value:this.state.profileImg}))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"role"},"Role:"),r.a.createElement("select",{name:"role",onChange:this.onChange,value:this.state.role},r.a.createElement("option",{value:"student"},"Student"),r.a.createElement("option",{value:"TA"},"TA"),r.a.createElement("option",{value:"teacher"},"Teacher")))),this.state.error&&r.a.createElement(j.a,{variant:"warning"},this.state.error),r.a.createElement("input",{type:"submit",value:"Submit",className:"btn mt-4 btn-primary btn-block",onClick:this.onSubmit}))))}}]),t}(n.Component),ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={id:"",username:"",password:"",githubLink:"",profileImg:"",role:"student",submitUser:!0,error:"",disabled:!0},a.onChange=function(e){a.setState(Object(N.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=Object(Q.a)(Y.a.mark(function e(t){var n,r,s,c,l;return Y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(V.a)({},a.state),r=n.username,s=n.githubLink,c=n.profileImg,l=n.role,e.next=3,b.a.put("/api/users/".concat(a.state.id),{username:r,githubLink:s,profileImg:c,role:l}).then(function(e){console.log(e)}).catch(function(e){return a.setState({error:e.message})});case 3:a.setState({disabled:!a.state.disabled,error:"User edited"}),a.context.history.push("/users/");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/users/".concat(this.props.user._id)).then(function(t){e.setState({id:t.data._id,username:t.data.username,githubLink:t.data.githubLink,profileImg:t.data.profileImg,role:t.data.role})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(p.b,{to:"/users/",className:"btn btn-link"},r.a.createElement("i",{className:"fas fa-arrow-circle-left"}),"View All")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"input-group-appent"},("TA"===this.props.user.role||this.props.user._id===this.state.id||"teacher"===this.props.user.role)&&r.a.createElement(r.a.Fragment,null,this.state.disabled?r.a.createElement("input",{type:"submit",value:"Edit",onClick:function(){return e.setState({disabled:!e.state.disabled})},className:"btn btn-outline-dark",style:{float:"right"}}):r.a.createElement("input",{type:"submit",value:"Confirm",onClick:this.onSubmit,className:"btn btn-outline-danger",style:{float:"right"}}))))),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},"Add User"),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{src:this.state.profileImg||"https://scontent-vie1-1.xx.fbcdn.net/v/t1.0-9/16196015_10154888128487744_6901111466535510271_n.png?_nc_cat=103&_nc_oc=AQkzn0OPjcr3XQY7UkMt85y2o6HubSMaDYiYQSA_2xvqTwZeUzV7kCvKb0apdC5SmPE&_nc_ht=scontent-vie1-1.xx&oh=16ae35aaabc5b997ec4d338b775d98f7&oe=5DE21BE9",alt:"Users profile img",style:{height:"100%"},className:"form-control"}))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username:"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",minLength:"2",required:!0,onChange:this.onChange,value:this.state.username,disabled:this.state.disabled}))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"githubLink"},"Github:"),r.a.createElement("input",{type:"text",className:"form-control",name:"githubLink",onChange:this.onChange,value:this.state.githubLink,disabled:this.state.disabled}))),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"profileImg"},"Profile Image:"),r.a.createElement("input",{type:"text",className:"form-control",name:"profileImg",onChange:this.onChange,value:this.state.profileImg,disabled:this.state.disabled}))),"student"===!this.props.user.role&&r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"role"},"Role:"),r.a.createElement("select",{name:"role",onChange:this.onChange,value:this.state.role,disabled:this.state.disabled,className:"form-control"},r.a.createElement("option",{value:"student"},"Student"),r.a.createElement("option",{value:"TA"},"TA"),r.a.createElement("option",{value:"teacher"},"Teacher")))),this.state.error&&r.a.createElement(j.a,{variant:"warning"},this.state.error)))))}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:""},a.getUsers=function(){b.a.get("/api/users/").then(function(e){a.setState({users:e.data})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getUsers()}},{key:"render",value:function(){return this.state.users?r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",null,r.a.createElement("i",{className:"fas fa-users"}),"Users",r.a.createElement(p.b,{to:"/users/add"},r.a.createElement("button",{className:"btn btn-success",style:{float:"right"}},"Add New User"))))),r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",{className:"thead-inverse"},r.a.createElement("tr",null,r.a.createElement("th",null,"Username"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Github Link"))),r.a.createElement("tbody",null,this.state.users.map(function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.username),r.a.createElement("td",null,e.role),r.a.createElement("td",null,e.githubLink),r.a.createElement("td",null,r.a.createElement(p.b,{to:"/users/".concat(e._id),className:"btn btn-secondary btn-sm"},r.a.createElement("i",{className:"fas fa-arrow-circle-right"}),"View")))})))):r.a.createElement("h1",null,"Loading...")}}]),t}(n.Component),se=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).setUser=function(e){a.setState({user:e})},a.handleSearchFilter=function(e){var t=new RegExp(e.searchStr,"i");D().then(function(n){var r=n.filter(function(a){var n=!e.incompleteOnly||!1===a.completionStatus,r=0===e.selectedTags.length||a.tags.map(function(e){return e.name}).concat(a.tech).filter(function(t){return e.selectedTags.includes(t)}).length>0;return n&&r&&a.name.match(t)});console.log(r),a.setState({filteredResults:r,treeClosed:!0}),a.reloadCourseTree("nothing selected"),a.props.history.push("/results")})},a.reloadCourseTree=function(e){I().then(function(t){a.setState({selectedDay:null,selectedWeek:null}),t.forEach(function(t,n){var r=t.find(function(t){return t.id===e});r&&a.setState({selectedWeek:n,selectedDay:r.id})});var n=t.map(function(e){return e.sort(function(e,t){return parseInt(e.day)-parseInt(t.day)})});a.setState({weeks:n})}).catch(function(e){console.log("error getting weeks: ",e)})},a.closeSearch=function(){a.setState({searchOpen:!1})},a.state={user:a.props.user,weeks:[],filteredResults:[],searchOpen:!1,selectedWeek:null,selectedDay:null,treeClosed:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;I().then(function(t){var a=t.map(function(e){return e.sort(function(e,t){return parseInt(e.day)-parseInt(t.day)})});e.setState({weeks:a})}).catch(function(e){console.log("error getting weeks: ",e)})}},{key:"render",value:function(){var e=this;return this.state.user?r.a.createElement("div",{className:"App"},r.a.createElement(y,{setUser:this.setUser,user:this.state.user}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xs-4 col-sm-5 col-md-4 col-lg-3 list-group fixed-height"},r.a.createElement("div",{className:"button-wrapper"},r.a.createElement(S.a,{variant:"outline-primary",onClick:function(){return e.setState({searchOpen:!e.state.searchOpen})}},"Search / Filter")),this.state.searchOpen&&r.a.createElement(ee,{searchAndFilter:this.handleSearchFilter}),r.a.createElement(B,{weeks:this.state.weeks,toggleSearch:this.toggleSearch,selectedWeek:this.state.selectedWeek,selectedDay:this.state.selectedDay,treeClosed:this.state.treeClosed,user:this.state.user})),r.a.createElement("div",{className:"col-xs-7 col-sm-7 col-md-8 col-lg-9 fixed-height"},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/results",render:function(t){return r.a.createElement(te,Object.assign({},t,{results:e.state.filteredResults,reloadCourseTree:e.reloadCourseTree,user:e.state.user,closeSearch:e.closeSearch,setUser:e.setUser}))}}),r.a.createElement(h.b,{exact:!0,path:"/modules",render:function(e){return r.a.createElement(A,e)}}),r.a.createElement(h.b,{exact:!0,path:"/days/:id",render:function(t){return r.a.createElement(J,Object.assign({},t,{user:e.state.user,reloadCourseTree:e.reloadCourseTree,setUser:e.setUser}))}}),r.a.createElement(h.b,{exact:!0,path:"/days",render:function(t){return r.a.createElement(H,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(h.b,{exact:!0,path:"/weeks/:num",render:function(t){return r.a.createElement(H,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(h.b,{exact:!0,path:"/weeks",render:function(t){return r.a.createElement(M,{user:e.state.user})}}),r.a.createElement(h.b,{exact:!0,path:"/",render:function(t){return r.a.createElement(F,{user:e.state.user})}}),"} />",r.a.createElement(h.b,{exact:!0,path:"/users",render:function(t){return r.a.createElement(re,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(h.b,{exact:!0,path:"/users/:id",render:function(t){return r.a.createElement(ne,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(h.b,{exact:!0,path:"/users/add",render:function(t){return r.a.createElement(ae,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(C,{exact:!0,path:"/signup",redirectPath:"/",setUser:this.setUser,user:!this.state.user,component:w}),r.a.createElement(C,{exact:!0,path:"/login",redirectPath:"/",setUser:this.setUser,user:!this.state.user,component:x}),r.a.createElement(h.b,{exact:!0,path:"/dashboard",render:function(t){return r.a.createElement(U,Object.assign({},t,{user:e.state.user}))}})))))):r.a.createElement("div",null,r.a.createElement(y,{setUser:this.setUser,user:this.state.user}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"}),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(h.d,null,r.a.createElement(C,{exact:!0,path:"/(|login)/",redirectPath:"/",setUser:this.setUser,user:!this.state.user,component:x}),r.a.createElement(C,{exact:!0,path:"/signup",redirectPath:"/",setUser:this.setUser,user:!this.state.user,component:w}))),r.a.createElement("div",{className:"col-md-2"})))}}]),t}(r.a.Component);Boolean("127.0.0.1"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.get("/api/auth/loggedin").then(function(e){console.log("got here"),c.a.render(r.a.createElement(p.a,null,r.a.createElement(h.b,{render:function(t){return r.a.createElement(se,Object.assign({},t,{user:e.data}))}})),document.getElementById("root"))}).catch(function(e){console.log(e)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,t,a){e.exports=a(113)},70:function(e,t,a){},72:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.ab70f9b9.chunk.js.map