(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(31),s=a.n(c),o=(a(69),a(6)),l=a(7),i=a(10),u=a(8),m=a(9),h=a(21),p=(a(70),a(71),a(12)),d=a(120),f=a(11),b=a.n(f),v=function(e,t){return b.a.post("/api/auth/login",{username:e,password:t}).then(function(e){return e.data})},E=function(e,t){return b.a.post("/api/auth/signup",{username:e,password:t}).then(function(e){return e.data})},g=function(e){b.a.post("/api/auth/logout").then(function(e){return e.data}).then(function(){e.setUser(null)})},y=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-primary mb-4 justify-content-space-between"},r.a.createElement("div",{className:"container"},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMain"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarMain"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(p.b,{to:"/",className:"nav-link"})))),r.a.createElement("div",{className:""},r.a.createElement(d.a.Brand,{to:"/"},r.a.createElement(p.b,{className:"text-white",to:"/"},"Home")),e.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Brand,null,r.a.createElement(p.b,{className:"text-white",onClick:function(){return g(e)},to:"/"},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Brand,null,r.a.createElement(p.b,{className:"text-white",to:"/signup"},"Signup")),r.a.createElement(d.a.Brand,null,r.a.createElement(p.b,{className:"text-white",to:"/login"},"Login"))))))},k=a(62),j=function(e){var t=e.component,a=e.user,n=e.path,c=e.redirectPath,s=void 0===c?"/":c,o=Object(k.a)(e,["component","user","path","redirectPath"]);return r.a.createElement(h.b,{path:n,render:function(e){return a?r.a.createElement(t,Object.assign({},e,o,{user:a})):r.a.createElement(h.a,{to:s})}})},O=a(35),w=a(119),C=a(121),N=a(118),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(O.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),E(n,r).then(function(e){a.props.setUser(e),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message})})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(w.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(w.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(C.a,{variant:"warning"},this.state.error),r.a.createElement(N.a,{type:"submit"},"Signup"))}}]),t}(n.Component),x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",error:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(O.a)({},n,r))},a.handleSubmit=function(e){var t=a.state,n=t.username,r=t.password;e.preventDefault(),v(n,r).then(function(e){a.props.setUser(e),a.props.history.push("/")}).catch(function(e){a.setState({error:e.response.data.message})})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(w.a,{onSubmit:this.handleSubmit},r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"username"},"Username:"),r.a.createElement(w.a.Control,{type:"text",name:"username",id:"username",value:this.state.username,onChange:this.handleChange})),r.a.createElement(w.a.Group,null,r.a.createElement(w.a.Label,{htmlFor:"password"},"Password:"),r.a.createElement(w.a.Control,{type:"password",name:"password",id:"password",value:this.state.password,onChange:this.handleChange})),this.state.error&&r.a.createElement(C.a,{variant:"warning"},this.state.error),r.a.createElement(N.a,{type:"submit"},"Login"))}}]),t}(n.Component),_=a(20),U=a.n(_),D=a(26),M=a(63),A=a.n(M),H=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showComment:!0,className:"fas fa-sort-up"},a.onShowClick=function(e){var t=a.state.showComment?"fas fa-sort-down":"fas fa-sort-up";a.setState({showComment:!a.state.showComment,className:t})},a.onClickDelete=function(){a.props.deleteClickHandler()},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.showComment;return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,r.a.createElement(p.b,{to:"/"},r.a.createElement("h3",null,this.props.data.user.username," ")),e&&r.a.createElement("img",{src:this.props.data.user.profileImg||"https://scontent-vie1-1.xx.fbcdn.net/v/t1.0-9/16196015_10154888128487744_6901111466535510271_n.png?_nc_cat=103&_nc_oc=AQkzn0OPjcr3XQY7UkMt85y2o6HubSMaDYiYQSA_2xvqTwZeUzV7kCvKb0apdC5SmPE&_nc_ht=scontent-vie1-1.xx&oh=16ae35aaabc5b997ec4d338b775d98f7&oe=5DE21BE9",height:"100px",alt:"Users profile img"})),r.a.createElement("td",{colSpan:"2"},r.a.createElement("div",null,r.a.createElement("i",{onClick:this.onShowClick,className:this.state.className,style:{cursor:"pointer"}}),e&&r.a.createElement("i",{className:"fas fa-times",style:{cursor:"pointer",float:"right",color:"red"},onClick:this.onClickDelete})),e&&r.a.createElement("p",null,r.a.createElement(A.a,null,this.props.data.content))))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comment:""},a.onChangeHandler=function(e){a.setState({comment:e.target.value})},a.onKeyComment=function(){var e=Object(D.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:"Enter"===t.key&&a.props.postCommentHandler(a.state.comment);case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,this.props.user&&r.a.createElement("h3",null,this.props.user.username),this.props.user&&r.a.createElement("img",{src:this.props.user.profileImg||"https://scontent-vie1-1.xx.fbcdn.net/v/t1.0-9/16196015_10154888128487744_6901111466535510271_n.png?_nc_cat=103&_nc_oc=AQkzn0OPjcr3XQY7UkMt85y2o6HubSMaDYiYQSA_2xvqTwZeUzV7kCvKb0apdC5SmPE&_nc_ht=scontent-vie1-1.xx&oh=16ae35aaabc5b997ec4d338b775d98f7&oe=5DE21BE9",height:"100px",alt:"Users profile img"})),r.a.createElement("td",{colSpan:"2"},r.a.createElement("br",null),r.a.createElement("input",{type:"text",value:this.state.comment,onKeyDown:this.onKeyComment,onChange:this.onChangeHandler})))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).getComments=function(){b.a.get("/api/comments/".concat(a.props.data.match.params.id)).then(function(e){e.data&&a.setState({comments:e.data})}).catch(function(e){console.log(e)})},a.deleteComment=function(e){b.a.delete("/api/comments/".concat(e)).then(function(e){a.getComments()})},a.postComment=function(e){b.a.post("/api/comments/",{content:e,user:a.state.user._id,list:a.props.data.match.params.id}).then(function(e){a.getComments()})},a.state={comments:[],user:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(D.a)(U.a.mark(function e(){var t;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.getComments(),e.next=3,b.a.get("/api/auth/loggedin").then(function(e){return e.data});case 3:t=e.sent,this.setState({user:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("h2",null,r.a.createElement("i",{className:"fas fa-users"}),"Comments:",r.a.createElement("button",{className:"btn btn-success",style:{float:"right"}},r.a.createElement("a",{href:"#comment-form"},r.a.createElement("i",{className:"fas fa-plus"}),"New ")))),r.a.createElement("div",{className:"col-md-6"}),r.a.createElement("table",{className:"table table-stripped"},r.a.createElement("thead",{className:"thear-inverse"}),r.a.createElement("tbody",null,this.state.comments.map(function(t){return r.a.createElement("tr",{key:t._id},r.a.createElement(H,{deleteClickHandler:e.deleteComment.bind(e,t._id),data:t}))}),r.a.createElement("tr",null,r.a.createElement(F,{postCommentHandler:this.postComment,user:this.state.user,id:"comment-form"}))))))}}]),t}(n.Component);function P(){return r.a.createElement("div",null)}var I=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={size:"100%"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement(L,null)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement(P,null)))}}]),t}(n.Component),B=a(27),Q=function(){return b.a.get("/api/coursework/weeks").then(function(e){return e.data})};function W(e){var t,a=e.name,n=-1!==a.indexOf("|")?a.substr(0,a.indexOf("|")).trim():null,r=e.desc,c=e.labels.map(function(e){return e.name});return(t=e.id,b.a.get("https://api.trello.com/1/cards/".concat(t,"/attachments?key=eb627225b1977b30f088094e7b793383&token=596e22c5d280793a5bd98c6883d6e1014fe4cc18b549f4fafbdd3a5947ed07ac")).then(function(e){return e.data.map(function(e){return e.url})})).then(function(t){return{name:a,category:n,desc:r,labels:c,id:e.id,attachments:t}})}var Y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={content:a.props.data.content},a.onChangeHandler=function(e){a.setState({content:e.target.value})},a.onClickHandler=function(e){a.props.postNoteHandler(a.state.content)},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,console.log(this.props),r.a.createElement("textarea",{id:"story",name:"story",rows:"5",cols:"33",className:"block",value:this.state.content,onChange:this.onChangeHandler}))}}]),t}(n.Component),z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null,userNote:"",listNote:""},a.getNotes=function(){a.getUsersNote(),a.getListNote()},a.getUsersNote=function(){b.a.get("/api/notes/".concat(a.props.data.match.params.id)).then(function(e){console.log(e.data),a.setState={userNote:e.data}})},a.getListNote=function(){b.a.get("/api/notes/prot/".concat(a.props.data.match.params.id)).then(function(e){return e.data})},a.updateNote=function(e){b.a.post("/api/notes",e.content).then(a.getNotes())},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(D.a)(U.a.mark(function e(){var t;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.getUsersNote(),e.next=3,this.getListNote();case 3:t=e.sent,this.setState({listNote:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{data:this.state.userNote}),r.a.createElement(Y,{data:this.state.listNote}))}}]),t}(n.Component),G=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={lessons:[],templessons:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(e){return b.a.get("/api/coursework/days/".concat(e)).then(function(e){return e.data})})(this.props.match.params.id).then(function(t){e.setState({lessons:t.cards,name:t.name})}).catch(function(e){console.log(e)}),b.a.get("https://api.trello.com/1/boards/JIVynIm1/cards?key=eb627225b1977b30f088094e7b793383&token=596e22c5d280793a5bd98c6883d6e1014fe4cc18b549f4fafbdd3a5947ed07ac").then(function(e){var t=e.data.slice(98,104).map(function(e){return W(e)});return Promise.all(Object(B.a)(t))}).then(function(t){e.setState({templessons:t})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"list-container"},r.a.createElement("p",null,this.state.name),r.a.createElement("ul",{className:"list-primary"},this.state.lessons.length>0&&this.state.lessons.map(function(e){return r.a.createElement("div",{key:e.id,className:"list-item"},r.a.createElement("div",{className:"title-status"},r.a.createElement("a",{href:e.url},e.name),r.a.createElement(w.a,null,r.a.createElement(w.a.Group,{controlId:"statusCheckbox"},r.a.createElement(w.a.Check,{className:"check",type:"checkbox",label:""})))),r.a.createElement("div",{className:"tags"},e.tags.map(function(e,t){return r.a.createElement("span",{key:t,style:{backgroundColor:"".concat(e.color)}},e.name)}),e.tech.map(function(e,t){return r.a.createElement("span",{key:t,className:"technology"},e)})))})),r.a.createElement(z,{data:this.props,user:this.props.user}),r.a.createElement(L,{data:this.props,user:this.props.user}))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={weeks:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q().then(function(t){e.setState({weeks:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.state.weeks.map(function(e,t){return r.a.createElement("div",{key:t,className:"list-item"},r.a.createElement(p.b,{to:"/weeks/".concat(t+1)},"Week ",t+1))})))}}]),t}(n.Component),J=function(e){return!0!==e.open?r.a.createElement("div",null):r.a.createElement("div",null,e.children)},T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleModule=function(e){var t=Object(B.a)(a.state.open);t[e]=!t[e],a.setState({open:t})},a.state={modules:[],open:[!1,!1,!1]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("api/coursework/modules").then(function(e){return e.data}).then(function(t){var a=t.sort(function(e,t){return e.number-t.number});e.setState({modules:a})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.state.modules.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("h2",{onClick:function(){return e.toggleModule(a)}},t.name),r.a.createElement(J,{open:e.state.open[a]},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}})))})))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).toggleWeek=function(e){var t=Object(B.a)(a.state.open);t[e]=!t[e],a.setState({open:t})},a.state={weeks:[],open:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Q().then(function(t){var a=t.map(function(e){return e.sort(function(e,t){return parseInt(e.day)-parseInt(t.day)})});e.setState({weeks:a})}).catch(function(e){console.log("error getting weeks: ",e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",null,this.state.weeks.map(function(t,a){return r.a.createElement("div",{key:a},r.a.createElement("h5",null,r.a.createElement("span",{onClick:function(){return e.toggleWeek(a)}},e.state.open[a]?"\u25bc":"\u25ba"),"Week ",a+1),r.a.createElement(J,{open:e.state.open[a]},t.map(function(e){return r.a.createElement("p",{key:e.id},r.a.createElement(p.b,{to:"/days/".concat(e.id)},e.day?"Day ".concat(e.day):e.name))})))})))}}]),t}(n.Component),q=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={board:null},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/api/coursework/").then(function(e){return e.data}).then(function(t){return e.setState({board:t})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement(p.b,{to:"/dashboard"},"Dashboard")),this.state.board&&r.a.createElement("h2",null,this.state.board.name),r.a.createElement(K,null),r.a.createElement(T,null),r.a.createElement(V,null))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={days:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.num||null;t?function(e){return b.a.get("/api/coursework/weeks/".concat(e)).then(function(e){return e.data})}(t).then(function(t){var a=t.sort(function(e,t){return e.day-t.day});e.setState({days:a})}).catch(function(e){console.log("error getting days in week. ",e)}):b.a.get("/api/coursework/days").then(function(e){return e.data}).then(function(t){e.setState({days:t})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){return r.a.createElement("div",{className:"list-container"},r.a.createElement("ul",{className:"list-primary"},this.state.days.map(function(e,t){return r.a.createElement("div",{key:t,className:"list-item"},r.a.createElement(p.b,{to:"/days/".concat(e.id)},e.name))})))}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user},a.setUser=function(e){a.setState({user:e})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{setUser:this.setUser,user:this.state.user}),r.a.createElement("div",{className:"container"},r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/days/:id",component:G,user:this.state.user}),r.a.createElement(h.b,{exact:!0,path:"/days",component:X,user:this.state.user}),r.a.createElement(h.b,{exact:!0,path:"/weeks/:num",component:X,user:this.state.user}),r.a.createElement(h.b,{exact:!0,path:"/weeks",component:K,user:this.state.user}),r.a.createElement(h.b,{exact:!0,path:"/",component:q,user:this.state.user}),r.a.createElement(h.b,{exact:!0,path:"/dashboard",component:I,user:this.state.user}),r.a.createElement(j,{exact:!0,path:"/signup",redirectPath:"/",setUser:this.setUser,user:!this.state.user,component:S}),r.a.createElement(j,{exact:!0,path:"/login",redirectPath:"/",setUser:this.setUser,user:!this.state.user,component:x}))))}}]),t}(r.a.Component);Boolean("127.0.0.1"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));b.a.get("/api/auth/loggedin").then(function(e){s.a.render(r.a.createElement(p.a,null,r.a.createElement(Z,{user:e.data})),document.getElementById("root"))}).catch(function(e){console.log(e)}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},64:function(e,t,a){e.exports=a(116)},69:function(e,t,a){},71:function(e,t,a){}},[[64,1,2]]]);
//# sourceMappingURL=main.005fb56c.chunk.js.map