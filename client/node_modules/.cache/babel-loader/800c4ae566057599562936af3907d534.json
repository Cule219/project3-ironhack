{"ast":null,"code":"var _jsxFileName = \"/home/i/code/project3/final-project-ironhack/client/src/components/dashboard/CommentBox.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; //need get post delete \n\nexport default class CommentBox extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      comments: []\n    };\n\n    this.getComments = () => {\n      axios.get('/api/comments/').then(response => {\n        this.setState({\n          comments: response.data\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.postComment = event => {// event.targ\n    };\n  }\n\n  componentDidMount() {\n    this.getComments();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, this.state.comments.map(x => {\n      return React.createElement(\"p\", {\n        key: x._id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, x.content);\n    }));\n  }\n\n} // if(commentBox != undefined){\n//   commentBox.addEventListener('click', (e)=>{\n//     if(e.target.className == 'like-button'){\n//       let username = e.target.parentNode.getElementsByTagName('h3')[0].innerHTML;\n//       let ratingElement = e.target.parentNode.getElementsByTagName('p')[1];\n//       let commentId = e.target.value;\n//       axios.patch(`${baseUrl}/comment`, {data: username, commentId: commentId}).then(data => {\n//         // document.getElementsByClassName('username').forEach(element => {\n//         //   element.innerHTML = `<em>Rating: </em>${data.data.rating}`;\n//         // });\n//         ratingElement.innerHTML = `<em>Rating: </em>${data.data.rating}`;\n//         if(data.data.liked)e.target.innerHTML=\"Unlike\";\n//         else{e.target.innerHTML=\"Like\"}\n//       })\n//     }\n//   });\n// }","map":{"version":3,"sources":["/home/i/code/project3/final-project-ironhack/client/src/components/dashboard/CommentBox.js"],"names":["React","Component","axios","CommentBox","state","comments","getComments","get","then","response","setState","data","catch","err","console","log","postComment","event","componentDidMount","render","map","x","_id","content"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AAEA,eAAe,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AAAA;AAAA;AAAA,SAChDG,KADgD,GACxC;AACNC,MAAAA,QAAQ,EAAE;AADJ,KADwC;;AAAA,SAKhDC,WALgD,GAKlC,MAAM;AAClBJ,MAAAA,KAAK,CAACK,GAAN,CAAU,gBAAV,EAA4BC,IAA5B,CAAiCC,QAAQ,IAAI;AAC3C,aAAKC,QAAL,CAAc;AACZL,UAAAA,QAAQ,EAAEI,QAAQ,CAACE;AADP,SAAd;AAGD,OAJD,EAKCC,KALD,CAKOC,GAAG,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,OAPD;AAQD,KAd+C;;AAAA,SAoBhDG,WApBgD,GAoBlCC,KAAK,IAAI,CACrB;AACD,KAtB+C;AAAA;;AAgBhDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKZ,WAAL;AACD;;AAMDa,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKf,KAAL,CAAWC,QAAX,CAAoBe,GAApB,CAAwBC,CAAC,IAAI;AAC7B,aAAO;AAAG,QAAA,GAAG,EAAEA,CAAC,CAACC,GAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgBD,CAAC,CAACE,OAAlB,CAAP;AACA,KAFA,CADH,CADF;AAOD;;AAhC+C,C,CAoClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n\n//need get post delete \n\nexport default class CommentBox extends Component {\n  state = {\n    comments: []\n  }\n\n  getComments = () => {\n    axios.get('/api/comments/').then(response => {\n      this.setState({\n        comments: response.data\n      });\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  componentDidMount() {\n    this.getComments();\n  }\n\n  postComment = event => {\n    // event.targ\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.comments.map(x => {\n         return <p key={x._id}>{x.content}</p>\n        })}\n      </div>\n    )\n  }\n}\n\n\n// if(commentBox != undefined){\n//   commentBox.addEventListener('click', (e)=>{\n//     if(e.target.className == 'like-button'){\n//       let username = e.target.parentNode.getElementsByTagName('h3')[0].innerHTML;\n//       let ratingElement = e.target.parentNode.getElementsByTagName('p')[1];\n//       let commentId = e.target.value;\n//       axios.patch(`${baseUrl}/comment`, {data: username, commentId: commentId}).then(data => {\n//         // document.getElementsByClassName('username').forEach(element => {\n//         //   element.innerHTML = `<em>Rating: </em>${data.data.rating}`;\n//         // });\n//         ratingElement.innerHTML = `<em>Rating: </em>${data.data.rating}`;\n//         if(data.data.liked)e.target.innerHTML=\"Unlike\";\n//         else{e.target.innerHTML=\"Like\"}\n//       })\n//     }\n//   });\n// }\n"]},"metadata":{},"sourceType":"module"}